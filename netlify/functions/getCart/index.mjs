import*as t from"@aws-sdk/lib-dynamodb";import*as o from"@aws-sdk/client-dynamodb";import*as e from"@aws-sdk/credential-provider-cognito-identity";import*as n from"@aws-sdk/client-cognito-identity";var r={d:(t,o)=>{for(var e in o)r.o(o,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)},a={};r.d(a,{R:()=>u});const i=(s={DynamoDBDocumentClient:()=>t.DynamoDBDocumentClient,GetCommand:()=>t.GetCommand},d={},r.d(d,s),d);var s,d;const l=(t=>{var o={};return r.d(o,t),o})({DynamoDBClient:()=>o.DynamoDBClient}),m=(t=>{var o={};return r.d(o,t),o})({fromCognitoIdentityPool:()=>e.fromCognitoIdentityPool}),c=(t=>{var o={};return r.d(o,t),o})({CognitoIdentityClient:()=>n.CognitoIdentityClient}),y=new l.DynamoDBClient({credentials:(0,m.fromCognitoIdentityPool)({client:new c.CognitoIdentityClient,identityPoolId:"us-east-1:56df3a77-0207-4112-be52-7e2171af2650"})}),C=i.DynamoDBDocumentClient.from(y,{marshallOptions:{convertEmptyValues:!1,removeUndefinedValues:!1,convertClassInstanceToMap:!1},unmarshallOptions:{wrapNumbers:!1}}),u=async t=>{const o={TableName:"CartDB",Key:{CustomerID:t.CustomerID}};try{console.log("Getting user cart...");const e=await C.send(new i.GetCommand(o));return console.log("Retrieved cart:",JSON.stringify(e,null,2)),console.log("Event:",t),{statusCode:123,body:JSON.stringify(e.Item)}}catch(t){return console.error(t),{statusCode:500,body:JSON.stringify(t)}}};var D=a.R;export{D as handler};